[{"type":"event","name":"LiquidationFeeRatioChanged","inputs":[{"type":"uint256","name":"liquidationFeeRatio","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"MarginChanged","inputs":[{"type":"address","name":"sender","internalType":"address","indexed":true},{"type":"address","name":"amm","internalType":"address","indexed":true},{"type":"int256","name":"amount","internalType":"int256","indexed":false},{"type":"int256","name":"fundingPayment","internalType":"int256","indexed":false}],"anonymous":false},{"type":"event","name":"MarginRatioChanged","inputs":[{"type":"uint256","name":"marginRatio","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"type":"address","name":"previousOwner","internalType":"address","indexed":true},{"type":"address","name":"newOwner","internalType":"address","indexed":true}],"anonymous":false},{"type":"event","name":"Paused","inputs":[{"type":"address","name":"account","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"PositionAdjusted","inputs":[{"type":"address","name":"amm","internalType":"address","indexed":true},{"type":"address","name":"trader","internalType":"address","indexed":true},{"type":"int256","name":"newPositionSize","internalType":"int256","indexed":false},{"type":"uint256","name":"oldLiquidityIndex","internalType":"uint256","indexed":false},{"type":"uint256","name":"newLiquidityIndex","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"PositionChanged","inputs":[{"type":"address","name":"trader","internalType":"address","indexed":true},{"type":"address","name":"amm","internalType":"address","indexed":true},{"type":"uint256","name":"margin","internalType":"uint256","indexed":false},{"type":"uint256","name":"positionNotional","internalType":"uint256","indexed":false},{"type":"int256","name":"exchangedPositionSize","internalType":"int256","indexed":false},{"type":"uint256","name":"fee","internalType":"uint256","indexed":false},{"type":"int256","name":"positionSizeAfter","internalType":"int256","indexed":false},{"type":"int256","name":"realizedPnl","internalType":"int256","indexed":false},{"type":"int256","name":"unrealizedPnlAfter","internalType":"int256","indexed":false},{"type":"uint256","name":"badDebt","internalType":"uint256","indexed":false},{"type":"uint256","name":"liquidationPenalty","internalType":"uint256","indexed":false},{"type":"uint256","name":"spotPrice","internalType":"uint256","indexed":false},{"type":"int256","name":"fundingPayment","internalType":"int256","indexed":false}],"anonymous":false},{"type":"event","name":"PositionLiquidated","inputs":[{"type":"address","name":"trader","internalType":"address","indexed":true},{"type":"address","name":"amm","internalType":"address","indexed":true},{"type":"uint256","name":"positionNotional","internalType":"uint256","indexed":false},{"type":"uint256","name":"positionSize","internalType":"uint256","indexed":false},{"type":"uint256","name":"liquidationFee","internalType":"uint256","indexed":false},{"type":"address","name":"liquidator","internalType":"address","indexed":false},{"type":"uint256","name":"badDebt","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"PositionSettled","inputs":[{"type":"address","name":"amm","internalType":"address","indexed":true},{"type":"address","name":"trader","internalType":"address","indexed":true},{"type":"uint256","name":"valueTransferred","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"ReferredPositionChanged","inputs":[{"type":"bytes32","name":"referralCode","internalType":"bytes32","indexed":true}],"anonymous":false},{"type":"event","name":"RestrictionModeEntered","inputs":[{"type":"address","name":"amm","internalType":"address","indexed":false},{"type":"uint256","name":"blockNumber","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"Unpaused","inputs":[{"type":"address","name":"account","internalType":"address","indexed":false}],"anonymous":false},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"addMargin","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"tuple","name":"_addedMargin","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"adjustPosition","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"candidate","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"closePosition","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"tuple","name":"_quoteAssetAmountLimit","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"closePositionWithReferral","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"tuple","name":"_quoteAssetAmountLimit","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"bytes32","name":"_referralCode","internalType":"bytes32"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IMultiTokenRewardRecipient"}],"name":"feePool","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"tuple","name":"","internalType":"struct SignedDecimal.signedDecimal","components":[{"type":"int256","name":"d","internalType":"int256"}]}],"name":"getLatestCumulativePremiumFraction","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"tuple","name":"","internalType":"struct SignedDecimal.signedDecimal","components":[{"type":"int256","name":"d","internalType":"int256"}]}],"name":"getMarginRatio","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"address","name":"_trader","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"tuple","name":"","internalType":"struct ClearingHouse.Position","components":[{"type":"tuple","name":"size","internalType":"struct SignedDecimal.signedDecimal","components":[{"type":"int256","name":"d","internalType":"int256"}]},{"type":"tuple","name":"margin","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"tuple","name":"openNotional","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"tuple","name":"lastUpdatedCumulativePremiumFraction","internalType":"struct SignedDecimal.signedDecimal","components":[{"type":"int256","name":"d","internalType":"int256"}]},{"type":"uint256","name":"liquidityHistoryIndex","internalType":"uint256"},{"type":"uint256","name":"blockNumber","internalType":"uint256"}]}],"name":"getPosition","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"address","name":"_trader","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"tuple","name":"positionNotional","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"tuple","name":"unrealizedPnl","internalType":"struct SignedDecimal.signedDecimal","components":[{"type":"int256","name":"d","internalType":"int256"}]}],"name":"getPositionNotionalAndUnrealizedPnl","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"address","name":"_trader","internalType":"address"},{"type":"uint8","name":"_pnlCalcOption","internalType":"enum ClearingHouse.PnlCalcOption"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"tuple","name":"position","internalType":"struct ClearingHouse.Position","components":[{"type":"tuple","name":"size","internalType":"struct SignedDecimal.signedDecimal","components":[{"type":"int256","name":"d","internalType":"int256"}]},{"type":"tuple","name":"margin","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"tuple","name":"openNotional","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"tuple","name":"lastUpdatedCumulativePremiumFraction","internalType":"struct SignedDecimal.signedDecimal","components":[{"type":"int256","name":"d","internalType":"int256"}]},{"type":"uint256","name":"liquidityHistoryIndex","internalType":"uint256"},{"type":"uint256","name":"blockNumber","internalType":"uint256"}]}],"name":"getUnadjustedPosition","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"address","name":"_trader","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"d","internalType":"uint256"}],"name":"initMarginRatio","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"initialize","inputs":[{"type":"uint256","name":"_initMarginRatio","internalType":"uint256"},{"type":"uint256","name":"_maintenanceMarginRatio","internalType":"uint256"},{"type":"uint256","name":"_liquidationFeeRatio","internalType":"uint256"},{"type":"address","name":"_insuranceFund","internalType":"contract IInsuranceFund"},{"type":"address","name":"_trustedForwarder","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"contract IInsuranceFund"}],"name":"insuranceFund","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"isTrustedForwarder","inputs":[{"type":"address","name":"forwarder","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"liquidate","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"address","name":"_trader","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"d","internalType":"uint256"}],"name":"liquidationFeeRatio","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"d","internalType":"uint256"}],"name":"maintenanceMarginRatio","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"d","internalType":"uint256"}],"name":"openInterestNotionalMap","inputs":[{"type":"address","name":"","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"openPosition","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"uint8","name":"_side","internalType":"enum ClearingHouse.Side"},{"type":"tuple","name":"_quoteAssetAmount","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"tuple","name":"_leverage","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"tuple","name":"_baseAssetAmountLimit","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"openPositionWithReferral","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"uint8","name":"_side","internalType":"enum ClearingHouse.Side"},{"type":"tuple","name":"_quoteAssetAmount","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"tuple","name":"_leverage","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"tuple","name":"_baseAssetAmountLimit","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]},{"type":"bytes32","name":"_referralCode","internalType":"bytes32"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"owner","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"d","internalType":"uint256"}],"name":"partialLiquidationRatio","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"pause","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"paused","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"payFunding","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"removeMargin","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"},{"type":"tuple","name":"_removedMargin","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"renounceOwnership","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setLiquidationFeeRatio","inputs":[{"type":"tuple","name":"_liquidationFeeRatio","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setMaintenanceMarginRatio","inputs":[{"type":"tuple","name":"_maintenanceMarginRatio","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setOwner","inputs":[{"type":"address","name":"newOwner","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setPartialLiquidationRatio","inputs":[{"type":"tuple","name":"_ratio","internalType":"struct Decimal.decimal","components":[{"type":"uint256","name":"d","internalType":"uint256"}]}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setTollPool","inputs":[{"type":"address","name":"_feePool","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"setWhitelist","inputs":[{"type":"address","name":"_whitelist","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"settlePosition","inputs":[{"type":"address","name":"_amm","internalType":"contract IAmm"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"trustedForwarder","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"unpause","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"updateOwner","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"string","name":"","internalType":"string"}],"name":"versionRecipient","inputs":[]}]